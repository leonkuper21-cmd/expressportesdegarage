<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Express Portes de Garage ‚Äî Montr√©al & Rive Sud | Express Garage Doors ‚Äî Montreal & South Shore</title>
  <meta name="description" content="Installation & r√©paration de portes de garage / Garage door installation & repair ‚Äî Montr√©al & Rive Sud / Montreal & South Shore. Call or text: 514-991-6682." />
  <style>
    :root{ --blue:#1157b0; --red:#d51f29; --dark:#0f2337; --light:#f7f9fc; --btn:#0b57d0; --btn-t:#ffffff; }
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;color:#12202e;background:#fff;line-height:1.5}
    a{color:inherit;text-decoration:none}
    .hero{
      background: linear-gradient(90deg, var(--red) 0%, #f0c4c7 20%, #ffffff 50%, #c6d6ef 80%, var(--blue) 100%);
      color:#091825; text-align:center; padding:56px 16px 28px;
    }
    .hero h1{margin:0 0 8px;font-size: clamp(28px,6vw,56px); font-weight:800;}
    .hero p.sub{margin:6px 0 10px; font-size: clamp(16px,2.8vw,24px); font-weight:600}
    .hero .phone{display:inline-flex; align-items:center; gap:10px; font-size: clamp(18px,3.2vw,28px); font-weight:800; margin:8px 0 18px}
    .actions{display:flex; gap:12px; justify-content:center; flex-wrap:wrap; margin:8px 0 0}
    .btn{display:inline-block; padding:14px 20px; border-radius:12px; background:var(--btn); color:var(--btn-t); font-weight:700; font-size:16px; box-shadow:0 6px 16px rgba(0,0,0,.18); transition:.2s transform ease, .2s opacity ease;}
    .btn:hover{transform:translateY(-2px)}
    .btn.outline{background:#ffffff;color:var(--btn);border:2px solid var(--btn)}
    main{max-width:1024px;margin:0 auto;padding:24px 16px 60px}
    section{background:#ffffff;border:1px solid #e6eef7;border-radius:16px;padding:18px 16px;margin:14px 0;box-shadow:0 2px 10px rgba(0,0,0,.04)}
    h2{margin:0 0 12px;font-size: clamp(20px,3.2vw,28px); color:var(--dark)}
    ul.services{padding-left:18px; margin:8px 0}
    ul.services li{margin:6px 0}
    form .row{display:grid; grid-template-columns:1fr; gap:12px}
    @media (min-width:720px){ form .row{grid-template-columns:1fr 1fr} }
    label{font-weight:600; font-size:14px}
    input, select, textarea{width:100%; padding:12px 12px; border:1px solid #cfd8e3; border-radius:10px; font:inherit; background:#fbfdff;}
    textarea{min-height:120px; resize:vertical}
    .notice{font-size:12px; color:#4a5b71}
    .submitbar{display:flex; gap:12px; align-items:center; flex-wrap:wrap; margin-top:6px}
    .ok{color:#0b7a28; font-weight:700; display:none}
    .err{color:#b00020; font-weight:700; display:none}
    footer{padding:24px 16px 48px; text-align:center; color:#4a5b71}
    .brand{font-weight:800}
    .lang-switch { position: fixed; top: 10px; right: 10px; display: flex; gap: 6px; z-index: 9999; }
    .lang-switch button { padding: 6px 12px; font-size: 14px; font-weight: 700; border-radius: 8px; border: 2px solid var(--btn); background: white; color: var(--btn); cursor: pointer; }
    .lang-switch button.active { background: var(--btn); color: white; }
    .toast{position:fixed;left:50%;bottom:18px;transform:translateX(-50%);background:#0b7a28;color:#fff;padding:10px 14px;border-radius:10px;display:none;box-shadow:0 8px 18px rgba(0,0,0,.2);z-index:9999}

    /* Guides */
    .guides-intro{font-size:14px;color:#42526b;margin-bottom:10px}
    .guides-list{display:flex;flex-wrap:wrap;gap:10px;margin:10px 0 4px;padding:0;list-style:none}
    .guides-list li{margin:0}
    .guide-link{display:inline-block;padding:6px 10px;border-radius:999px;border:1px solid #cfd8e3;font-size:13px;background:#f7f9fc;}
    .guide-link:hover{border-color:var(--btn);}
    .guide-block{margin-top:10px;border-top:1px solid #e0e7f1;padding-top:10px}
    .guide-block h3{margin:6px 0;font-size:18px}
    .guide-block h4{margin:6px 0;font-size:15px}
    .guide-steps{padding-left:18px;font-size:14px;margin:4px 0}
    .guide-steps li{margin:4px 0}
    .chip{display:inline-flex;align-items:center;padding:6px 10px;border-radius:999px;border:1px solid #cfd8e3;margin:4px 6px 0 0;font-size:13px;background:#f7f9fc;}
    .chip input{margin-right:4px}
  </style>
  <link rel="icon" type="image/png" href="assets/favicon.png"/>
</head>
<body>
  <!-- Language Switch -->
  <div class="lang-switch" aria-label="Language switch">
    <button id="switch-fr" class="active" aria-pressed="true">FR</button>
    <button id="switch-en" aria-pressed="false">EN</button>
  </div>

  <!-- HERO -->
  <header class="hero">
    <h1 id="title">Express Portes de Garage</h1>
    <p class="sub" id="subtitle"></p>
    <div class="phone">üìû <a href="tel:+15149916682">514-991-6682</a></div>
    <div class="actions">
      <a class="btn" id="ctaCall" href="tel:+15149916682"></a>
      <a class="btn outline" id="ctaText" href=""></a>
    </div>
  </header>

  <main>
    <!-- SERVICES -->
    <section id="services">
      <h2 id="servicesTitle"></h2>
      <ul class="services" id="servicesList"></ul>
    </section>

    <!-- GUIDES / HOW-TO -->
    <section id="guides">
      <h2>Guides / Conseils & How-to</h2>
      <p class="guides-intro">
        üá´üá∑ Cliquez sur un sujet pour voir des explications simples.<br/>
        üá¨üáß Click on a topic to see a step-by-step explanation.
      </p>
      <ul class="guides-list">
        <li><a class="guide-link" href="#guide-springs">Garage Door Springs</a></li>
        <li><a class="guide-link" href="#guide-cables">Cables & Safety</a></li>
        <li><a class="guide-link" href="#guide-opener">Openers (Chamberlain / LiftMaster)</a></li>
        <li><a class="guide-link" href="#guide-offtrack">Off-track / Jammed Door</a></li>
      </ul>

      <div class="guide-block" id="guide-springs">
        <h3>Garage Door Springs / Ressorts de porte de garage</h3>
        <h4>üá´üá∑ Quand faut-il appeler un technicien ?</h4>
        <ul class="guide-steps">
          <li>La porte est tr√®s lourde, presque impossible √† lever √† la main.</li>
          <li>On entend un gros ‚Äúbang‚Äù dans le garage, et la porte ne s‚Äôouvre plus.</li>
          <li>Les ressorts sont visiblement cass√©s ou s√©par√©s en deux.</li>
        </ul>
        <h4>üá¨üáß What you should <u>not</u> do yourself</h4>
        <ul class="guide-steps">
          <li>Do not try to loosen torsion springs without proper tools and experience.</li>
          <li>Do not force the opener if the door is stuck ‚Äî you can burn the motor.</li>
          <li>Do not pull the door off the tracks; it can fall and damage the car or injure you.</li>
        </ul>
        <p class="guides-intro">
          üëâ For broken springs, the safest solution is to call a professional.  
          Call / Textez : <a href="tel:+15149916682">514-991-6682</a>
        </p>
      </div>

      <div class="guide-block" id="guide-cables">
        <h3>C√¢bles & S√©curit√© / Cables & Safety</h3>
        <h4>Signs of cable problems / Signes de probl√®me de c√¢bles</h4>
        <ul class="guide-steps">
          <li>La porte monte de travers (croche).</li>
          <li>Un c√¥t√© monte plus haut que l‚Äôautre.</li>
          <li>Les c√¢bles sont effiloch√©s ou sortis de la poulie.</li>
        </ul>
        <p class="guides-intro">
          üá´üá∑ Dans ce cas, ne continuez pas √† utiliser la porte ‚Äî elle peut sortir compl√®tement des rails.<br/>
          üá¨üáß Stop using the door and keep it closed until it‚Äôs checked.
        </p>
      </div>

      <div class="guide-block" id="guide-opener">
        <h3>Ouvre-portes (Chamberlain / LiftMaster) / Openers</h3>
        <h4>üá´üá∑ Probl√®mes fr√©quents</h4>
        <ul class="guide-steps">
          <li>La porte ne se ferme pas, revient en arri√®re.</li>
          <li>La lumi√®re clignote plusieurs fois, mais la porte ne bouge pas.</li>
          <li>La t√©l√©commande fonctionne seulement tr√®s pr√®s de la porte.</li>
        </ul>
        <h4>üá¨üáß Simple checks before you call</h4>
        <ul class="guide-steps">
          <li>Check sensors alignment and clean the lenses.</li>
          <li>Try a fresh battery in the remote.</li>
          <li>Make sure the door is not locked mechanically.</li>
        </ul>
      </div>

      <div class="guide-block" id="guide-offtrack">
        <h3>Porte hors des rails / Off-track Garage Door</h3>
        <ul class="guide-steps">
          <li>üá´üá∑ Ne touchez pas aux roulettes et ne forcez pas la porte.</li>
          <li>üá¨üáß Do not try to pull the door back yourself ‚Äî panels can bend.</li>
          <li>Gardez la zone d√©gag√©e (enfants, voiture, outils).</li>
        </ul>
        <p class="guides-intro">
          üìû Besoin d‚Äôaide rapidement ?  
          Call / Textez : <a href="tel:+15149916682">514-991-6682</a>
        </p>
      </div>
    </section>

    <!-- FORM -->
    <section id="quote">
      <h2 id="formTitle"></h2>
      <form id="serviceForm" novalidate>
        <div class="row">
          <div>
            <label for="name" id="labelName"></label>
            <input id="name" name="name" required />
          </div>
          <div>
            <label for="phone" id="labelPhone"></label>
            <input id="phone" name="phone" inputmode="tel" required />
          </div>
          <div>
            <label for="email" id="labelEmail"></label>
            <input id="email" name="email" type="email" />
          </div>
          <div>
            <label for="city" id="labelCity"></label>
            <input id="city" name="city" />
          </div>
        </div>

        <div class="row" style="margin-top:8px">
          <div>
            <label id="labelService"></label>
            <div class="checkgroup" id="serviceChips"></div>
          </div>
        </div>

        <div class="row" style="margin-top:8px">
          <div>
            <label for="details" id="labelDetails"></label>
            <textarea id="details" name="details"></textarea>
          </div>
        </div>

        <div class="notice" id="notice"></div>

        <div class="submitbar">
          <button class="btn" type="submit" id="submitBtn"></button>
          <span class="ok" id="okMsgFR">‚úî Envoy√© ! Nous vous contacterons tr√®s bient√¥t.</span>
          <span class="ok" id="okMsgEN">‚úî Sent! We will contact you shortly.</span>
          <span class="err" id="errMsgFR">‚úñ Erreur. R√©essayez ou appelez-nous.</span>
          <span class="err" id="errMsgEN">‚úñ Error. Please try again or call us.</span>
        </div>
      </form>
    </section>
  </main>

  <footer>
    <div class="brand">Express Portes de Garage</div>
    <div id="footerLine"></div>
  </footer>

  <div class="toast" id="toast"></div>

  <script>
    // ------- Language data -------
    const LANG = {
      fr: {
        subtitle: "Installation & r√©paration de portes de garage ‚Äî Montr√©al & <strong>Rive Sud</strong> ‚Äî ressorts, c√¢bles, ouvre-portes, s√©curit√©",
        call: "Appeler / Call Now",
        text: "Texter / Text Now",
        textHref: "sms:+15149916682?body=Bonjour!%20J'ai%20besoin%20d'un%20service%20pour%20porte%20de%20garage.",
        servicesTitle: "Nos Services",
        services: [
          "R√©paration de portes de garage r√©sidentielles",
          "Remplacement de <a href='#guide-springs'>ressorts de porte de garage</a>",
          "Remplacement & r√©glage de <a href='#guide-cables'>c√¢bles & s√©curit√©</a>",
          "Installation & r√©paration d‚Äô<a href='#guide-opener'>ouvre-portes (Chamberlain / LiftMaster)</a>",
          "R√©glage d‚Äô√©quilibrage & s√©curit√©",
          "Portes de garage bloqu√©es ou <a href='#guide-offtrack'>sorties des rails</a>",
          "T√©l√©commandes & claviers (keypads)",
          "Service m√™me journ√©e ‚Äî Montr√©al & Rive Sud"
        ],
        formTitle: "Demander un devis gratuit",
        labelName: "Nom",
        labelPhone: "T√©l√©phone",
        labelEmail: "Courriel",
        labelCity: "Ville / Quartier",
        labelService: "Type de service",
        chips: ["R√©paration r√©sidentielle","Ressorts & c√¢bles","Rails & roulettes","Ouvre-porte","R√©glage & s√©curit√©","Hors des rails","T√©l√©commande / Clavier"],
        labelDetails: "D√©tails",
        notice: "En envoyant, vous acceptez d‚Äô√™tre contact√© par t√©l√©phone, texto ou courriel.",
        submit: "Envoyer",
        footer: "Montr√©al & Rive Sud ‚Äî 514-991-6682",
        subject: "Demande de service ‚Äî Portes de garage",
        toast_ok: "‚úî Envoy√©",
        toast_err: "‚úñ Erreur d‚Äôenvoi"
      },
      en: {
        subtitle: "Garage door installation & repair ‚Äî Montreal & <strong>South Shore</strong> ‚Äî springs, cables, openers, safety",
        call: "Call Now",
        text: "Text Now",
        textHref: "sms:+15149916682?body=Hello!%20I%20need%20garage%20door%20service.",
        servicesTitle: "Our Services",
        services: [
          "Residential garage door repair",
          "Garage door <a href='#guide-springs'>springs replacement</a>",
          "<a href='#guide-cables'>Cable & safety</a> repair",
          "<a href='#guide-opener'>Opener installation & repair</a> (Chamberlain / LiftMaster)",
          "Balancing & safety tune-ups",
          "<a href='#guide-offtrack'>Stuck / off-track garage doors</a>",
          "Remotes & keypads setup",
          "Same-day service ‚Äî Montreal & South Shore"
        ],
        formTitle: "Request a Free Estimate",
        labelName: "Name",
        labelPhone: "Phone",
        labelEmail: "Email",
        labelCity: "City / Location",
        labelService: "Service Required",
        chips: ["Residential Repair","Springs & Cables","Tracks & Rollers","Opener","Tune-up & Safety","Off-track","Remotes / Keypads"],
        labelDetails: "Details / Additional Info",
        notice: "By sending, you agree to be contacted by phone, text or email.",
        submit: "Send Request",
        footer: "Montreal & South Shore ‚Äî 514-991-6682",
        subject: "Garage Door Service Request",
        toast_ok: "‚úî Sent",
        toast_err: "‚úñ Sending error"
      }
    };

    const el = id => document.getElementById(id);
    const ctaText = el('ctaText');
    const serviceChips = el('serviceChips');
    let currentLang = localStorage.getItem('lang') || 'fr';

    function render(lang){
      currentLang = lang;
      localStorage.setItem('lang', lang);
      document.getElementById('switch-fr').classList.toggle('active', lang==='fr');
      document.getElementById('switch-en').classList.toggle('active', lang==='en');

      el('subtitle').innerHTML = LANG[lang].subtitle;
      el('ctaCall').textContent = LANG[lang].call;
      ctaText.textContent = LANG[lang].text;
      ctaText.href = LANG[lang].textHref;
      el('servicesTitle').textContent = LANG[lang].servicesTitle;
      el('servicesList').innerHTML = LANG[lang].services.map(s=>`<li>${s}</li>`).join('');
      el('formTitle').textContent = LANG[lang].formTitle;
      el('labelName').textContent = LANG[lang].labelName;
      el('labelPhone').textContent = LANG[lang].labelPhone;
      el('labelEmail').textContent = LANG[lang].labelEmail;
      el('labelCity').textContent = LANG[lang].labelCity;
      el('labelService').textContent = LANG[lang].labelService;
      el('labelDetails').textContent = LANG[lang].labelDetails;
      el('notice').textContent = LANG[lang].notice;
      el('submitBtn').textContent = LANG[lang].submit;
      el('footerLine').textContent = LANG[lang].footer;

      // Placeholders
      el('name').placeholder = (lang==='fr') ? "Votre nom" : "Your name";
      el('phone').placeholder = "+1 514 991 6682";
      el('email').placeholder = (lang==='fr') ? "vous@exemple.com" : "you@example.com";
      el('city').placeholder  = (lang==='fr') ? "Montr√©al, Brossard, Longueuil‚Ä¶" : "Montreal, Brossard, Longueuil‚Ä¶";
      el('details').placeholder = (lang==='fr') ? "D√©crivez la situation‚Ä¶" : "Describe the situation‚Ä¶";

      // Chips
      serviceChips.innerHTML = "";
      LANG[lang].chips.forEach(val => {
        const label = document.createElement('label');
        label.className = "chip";
        const input = document.createElement('input');
        input.type = "checkbox";
        input.name = "service";
        input.value = val;
        label.appendChild(input);
        label.appendChild(document.createTextNode(" " + val));
        serviceChips.appendChild(label);
      });
    }

    document.getElementById('switch-fr').addEventListener('click', ()=> render('fr'));
    document.getElementById('switch-en').addEventListener('click', ()=> render('en'));
    render(currentLang);

    // Helper: toast
    const toast = el('toast');
    function showToast(msg){
      toast.textContent = msg;
      toast.style.display = 'inline-block';
      setTimeout(()=> toast.style.display='none', 2000);
    }

    // ------- Web3Forms sending with your key -------
    const WEB3FORMS_ACCESS_KEY = "07d8b155-6e6b-4955-b51d-8202d7c27ada";
    const MAILTO_EMAIL = "Construction2177@yahoo.com";

    const form = document.getElementById('serviceForm');
    const okFR = document.getElementById('okMsgFR');
    const okEN = document.getElementById('okMsgEN');
    const errFR = document.getElementById('errMsgFR');
    const errEN = document.getElementById('errMsgEN');

    function valid(){
      const name = el('name').value.trim();
      const phone = el('phone').value.trim();
      if (!name || !phone) return false;
      return true;
    }

    let submitting = false;

    form.addEventListener('submit', async (e)=>{
      e.preventDefault();
      [okFR, okEN, errFR, errEN].forEach(n=> n.style.display='none');

      if (!valid()){
        (currentLang==='fr' ? errFR : errEN).style.display='inline';
        showToast(currentLang==='fr' ? '‚úñ Remplissez les champs obligatoires' : '‚úñ Fill the required fields');
        return;
      }

      if (submitting) return;
      submitting = true;
      const oldText = el('submitBtn').textContent;
      el('submitBtn').textContent = (currentLang==='fr' ? 'Envoi‚Ä¶' : 'Sending‚Ä¶');

      try {
        const fd = new FormData(form);
        fd.append("access_key", WEB3FORMS_ACCESS_KEY);
        fd.append("from_name", "Express Garage Doors Website");
        fd.append("subject", LANG[currentLang].subject);
        fd.append("language", currentLang);
        const clientEmail = el('email').value.trim();
        if (clientEmail) fd.append("replyto", clientEmail);

        const resp = await fetch("https://api.web3forms.com/submit", { method:"POST", body: fd });
        const json = await resp.json();
        if (json.success){
          (currentLang==='fr'?okFR:okEN).style.display='inline';
          showToast(LANG[currentLang].toast_ok);
          form.reset();
        } else {
          throw new Error('web3forms failed');
        }
      } catch (err){
        // Fallback
        const data = {}
        new FormData(form).forEach((v,k)=>{
          if (data[k]){
            if (!Array.isArray(data[k])) data[k]=[data[k]];
            data[k].push(v);
          } else data[k]=v;
        });
        if (Array.isArray(data.service)) data.service = data.service.join(', ');
        const lines = [];
        for (const k in data) lines.push(`${k}: ${data[k]}`);
        const mailto = `mailto:${encodeURIComponent(MAILTO_EMAIL)}?subject=${encodeURIComponent(LANG[currentLang].subject)}&body=${encodeURIComponent(lines.join('\n'))}`;
        window.location.href = mailto;
        (currentLang==='fr'?okFR:okEN).style.display='inline';
        showToast(LANG[currentLang].toast_ok);
      } finally {
        submitting = false;
        el('submitBtn').textContent = oldText;
      }
    });
  </script>
</body>
</html>
