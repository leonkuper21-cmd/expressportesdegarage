<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Express Portes de Garage ‚Äî Montr√©al & Rive Sud | Express Garage Doors ‚Äî Montreal & South Shore</title>
  <meta name="description" content="Installation & r√©paration de portes de garage / Garage door installation & repair ‚Äî Montr√©al & Rive Sud / Montreal & South Shore. Call or text: 514-991-6682." />
  <style>
    :root{ --blue:#1157b0; --red:#d51f29; --dark:#0f2337; --light:#f7f9fc; --btn:#0b57d0; --btn-t:#ffffff; }
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;color:#12202e;background:#fff;line-height:1.5}
    a{color:inherit;text-decoration:none}

    /* Top bar with menu */
    .topbar{
      position:sticky;
      top:0;
      z-index:9998;
      background:#ffffffee;
      backdrop-filter:blur(6px);
      border-bottom:1px solid #e2e8f0;
    }
    .topbar-inner{
      max-width:1024px;
      margin:0 auto;
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding:8px 16px;
      gap:10px;
    }
    .logo-mini{
      font-weight:800;
      font-size:15px;
      white-space:nowrap;
    }
    .main-nav{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      justify-content:center;
      font-size:14px;
    }
    .nav-link{
      padding:6px 10px;
      border-radius:999px;
      text-decoration:none;
      border:1px solid transparent;
    }
    .nav-link:hover{
      border-color:#cbd5e1;
      background:#f8fafc;
    }

    .lang-switch{
      display:flex;
      gap:6px;
      align-items:center;
    }
    .lang-switch button{
      padding:4px 10px;
      font-size:13px;
      font-weight:700;
      border-radius:999px;
      border:1px solid var(--btn);
      background:#ffffff;
      color:var(--btn);
      cursor:pointer;
    }
    .lang-switch button.active{
      background:var(--btn);
      color:#ffffff;
    }

    .hero{
      background: linear-gradient(90deg, var(--red) 0%, #f0c4c7 20%, #ffffff 50%, #c6d6ef 80%, var(--blue) 100%);
      color:#091825; text-align:center; padding:56px 16px 28px;
    }
    .hero h1{margin:0 0 8px;font-size: clamp(28px,6vw,56px); font-weight:800;}
    .hero p.sub{margin:6px 0 10px; font-size: clamp(16px,2.8vw,24px); font-weight:600}
    .hero .phone{display:inline-flex; align-items:center; gap:10px; font-size: clamp(18px,3.2vw,28px); font-weight:800; margin:8px 0 18px}
    .actions{display:flex; gap:12px; justify-content:center; flex-wrap:wrap; margin:8px 0 0}
    .btn{display:inline-block; padding:14px 20px; border-radius:12px; background:var(--btn); color:var(--btn-t); font-weight:700; font-size:16px; box-shadow:0 6px 16px rgba(0,0,0,.18); transition:.2s transform ease, .2s opacity ease;}
    .btn:hover{transform:translateY(-2px)}
    .btn.outline{background:#ffffff;color:var(--btn);border:2px solid var(--btn)}

    main{max-width:1024px;margin:0 auto;padding:24px 16px 60px}
    section{background:#ffffff;border:1px solid #e6eef7;border-radius:16px;padding:18px 16px;margin:14px 0;box-shadow:0 2px 10px rgba(0,0,0,.04)}
    h2{margin:0 0 12px;font-size: clamp(20px,3.2vw,28px); color:var(--dark)}
    ul.services{padding-left:18px; margin:8px 0}
    ul.services li{margin:6px 0}

    form .row{display:grid; grid-template-columns:1fr; gap:12px}
    @media (min-width:720px){ form .row{grid-template-columns:1fr 1fr} }
    label{font-weight:600; font-size:14px}
    input, select, textarea{width:100%; padding:12px 12px; border:1px solid #cfd8e3; border-radius:10px; font:inherit; background:#fbfdff;}
    textarea{min-height:120px; resize:vertical}
    .notice{font-size:12px; color:#4a5b71}
    .submitbar{display:flex; gap:12px; align-items:center; flex-wrap:wrap; margin-top:6px}
    .ok{color:#0b7a28; font-weight:700; display:none}
    .err{color:#b00020; font-weight:700; display:none}
    footer{padding:24px 16px 48px; text-align:center; color:#4a5b71}
    .brand{font-weight:800}
    .toast{position:fixed;left:50%;bottom:18px;transform:translateX(-50%);background:#0b7a28;color:#fff;padding:10px 14px;border-radius:10px;display:none;box-shadow:0 8px 18px rgba(0,0,0,.2);z-index:9999}

    .guides-intro{font-size:14px;color:#42526b;margin-bottom:10px}
    .guide-block{margin-top:10px;border-top:1px solid #e0e7f1;padding-top:10px}
    .guide-block h3{margin:6px 0;font-size:18px}
    .guide-block h4{margin:6px 0;font-size:15px}
    .guide-steps{padding-left:18px;font-size:14px;margin:4px 0}
    .guide-steps li{margin:4px 0}

    .chip{display:inline-flex;align-items:center;padding:6px 10px;border-radius:999px;border:1px solid #cfd8e3;margin:4px 6px 0 0;font-size:13px;background:#f7f9fc;}
    .chip input{margin-right:4px}

    /* –Ø–∑—ã–∫–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã */
    .fr-only{}
    .en-only{}
    .lang-fr .en-only{display:none;}
    .lang-en .fr-only{display:none;}
  </style>
  <link rel="icon" type="image/png" href="assets/favicon.png"/>
</head>
<body class="lang-fr">

  <!-- –í–µ—Ä—Ö–Ω–µ–µ –º–µ–Ω—é -->
  <header class="topbar">
    <div class="topbar-inner">
      <div class="logo-mini">Express Portes de Garage</div>
      <nav class="main-nav">
        <a href="#home"      id="navHome"      class="nav-link">Accueil</a>
        <a href="#services"  id="navServices"  class="nav-link">Services</a>
        <a href="#locations" id="navLocations" class="nav-link">Zones</a>
        <a href="#about"     id="navAbout"     class="nav-link">√Ä propos</a>
        <a href="#contacts"  id="navContacts"  class="nav-link">Contact</a>
      </nav>
      <div class="lang-switch" aria-label="Language switch">
        <button id="switch-fr" class="active" aria-pressed="true">FR</button>
        <button id="switch-en" aria-pressed="false">EN</button>
      </div>
    </div>
  </header>

  <!-- HERO -->
  <header class="hero" id="home">
    <h1 id="title">Express Portes de Garage</h1>
    <p class="sub" id="subtitle"></p>
    <div class="phone">üìû <a href="tel:+15149916682">514-991-6682</a></div>
    <div class="actions">
      <a class="btn" id="ctaCall" href="tel:+15149916682"></a>
      <a class="btn outline" id="ctaText" href=""></a>
    </div>
  </header>

  <main>
    <!-- SERVICES -->
    <section id="services">
      <h2 id="servicesTitle"></h2>
      <ul class="services" id="servicesList"></ul>
    </section>

    <!-- LOCATIONS -->
    <section id="locations">
      <h2 id="locationsTitle"></h2>
      <p id="locationsText"></p>
    </section>

    <!-- GUIDES / HOW-TO -->
    <section id="guides">
      <h2 id="guidesTitle"></h2>
      <p class="guides-intro fr-only" id="guidesIntroFR"></p>
      <p class="guides-intro en-only" id="guidesIntroEN"></p>

      <div class="guide-block" id="guide-springs">
        <h3 id="guideSpringsTitle"></h3>

        <div class="fr-only">
          <h4>Quand faut-il appeler un technicien&nbsp;?</h4>
          <ul class="guide-steps">
            <li>La porte est tr√®s lourde, presque impossible √† lever √† la main.</li>
            <li>Vous entendez un gros ¬´&nbsp;bang&nbsp;¬ª dans le garage, et la porte ne s‚Äôouvre plus.</li>
            <li>Les ressorts sont visiblement cass√©s ou s√©par√©s en deux.</li>
          </ul>
          <p class="guides-intro">
            Pour les ressorts cass√©s, la solution la plus s√ªre est d‚Äôappeler un technicien.<br/>
            Appelez / textez : <a href="tel:+15149916682">514-991-6682</a>
          </p>
        </div>

        <div class="en-only">
          <h4>When should you call a technician?</h4>
          <ul class="guide-steps">
            <li>The door feels extremely heavy and is hard to lift by hand.</li>
            <li>You heard a loud ‚Äúbang‚Äù in the garage and the door no longer opens.</li>
            <li>Springs are visibly broken or split in two.</li>
          </ul>
          <p class="guides-intro">
            For broken springs, the safest option is to call a professional.<br/>
            Call / text: <a href="tel:+15149916682">514-991-6682</a>
          </p>
        </div>
      </div>

      <div class="guide-block" id="guide-cables">
        <h3 id="guideCablesTitle"></h3>
        <div class="fr-only">
          <h4>Signes de probl√®me de c√¢bles</h4>
          <ul class="guide-steps">
            <li>La porte monte de travers.</li>
            <li>Un c√¥t√© monte plus haut que l‚Äôautre.</li>
            <li>Les c√¢bles sont effiloch√©s ou sortis de la poulie.</li>
          </ul>
          <p class="guides-intro">
            Dans ce cas, n‚Äôutilisez plus la porte jusqu‚Äô√† inspection ‚Äî elle peut sortir des rails.
          </p>
        </div>
        <div class="en-only">
          <h4>Signs of cable issues</h4>
          <ul class="guide-steps">
            <li>The door goes up crooked.</li>
            <li>One side lifts higher than the other.</li>
            <li>Cables are frayed or off the drum.</li>
          </ul>
          <p class="guides-intro">
            In this situation, stop using the door until it is checked ‚Äî it can come off the tracks.
          </p>
        </div>
      </div>

      <div class="guide-block" id="guide-opener">
        <h3 id="guideOpenerTitle"></h3>
        <div class="fr-only">
          <h4>Probl√®mes fr√©quents</h4>
          <ul class="guide-steps">
            <li>La porte ne se ferme pas et revient en arri√®re.</li>
            <li>La lumi√®re clignote, mais la porte ne bouge pas.</li>
            <li>La t√©l√©commande fonctionne seulement tr√®s pr√®s de la porte.</li>
          </ul>
        </div>
        <div class="en-only">
          <h4>Common issues</h4>
          <ul class="guide-steps">
            <li>The door does not close and reverses.</li>
            <li>The light blinks but the door does not move.</li>
            <li>The remote works only very close to the door.</li>
          </ul>
        </div>
      </div>

      <div class="guide-block" id="guide-offtrack">
        <h3 id="guideOfftrackTitle"></h3>
        <div class="fr-only">
          <ul class="guide-steps">
            <li>Ne forcez pas la porte si elle est sortie des rails.</li>
            <li>Gardez la zone d√©gag√©e (enfants, voiture, outils).</li>
          </ul>
          <p class="guides-intro">
            Besoin d‚Äôaide rapidement ? Appelez / textez : <a href="tel:+15149916682">514-991-6682</a>
          </p>
        </div>
        <div class="en-only">
          <ul class="guide-steps">
            <li>Do not force the door if it is off-track.</li>
            <li>Keep the area clear (kids, car, tools).</li>
          </ul>
          <p class="guides-intro">
            Need help quickly? Call / text: <a href="tel:+15149916682">514-991-6682</a>
          </p>
        </div>
      </div>
    </section>

    <!-- ABOUT -->
    <section id="about">
      <h2 id="aboutTitle"></h2>
      <p id="aboutText"></p>
    </section>

    <!-- CONTACTS -->
    <section id="contacts">
      <h2 id="contactsTitle"></h2>
      <p id="contactsText"></p>
    </section>

    <!-- FORM -->
    <section id="quote">
      <h2 id="formTitle"></h2>
      <form id="serviceForm" novalidate>
        <div class="row">
          <div>
            <label for="name" id="labelName"></label>
            <input id="name" name="name" required />
          </div>
          <div>
            <label for="phone" id="labelPhone"></label>
            <input id="phone" name="phone" inputmode="tel" required />
          </div>
          <div>
            <label for="email" id="labelEmail"></label>
            <input id="email" name="email" type="email" />
          </div>
          <div>
            <label for="city" id="labelCity"></label>
            <input id="city" name="city" />
          </div>
        </div>

        <div class="row" style="margin-top:8px">
          <div>
            <label id="labelService"></label>
            <div class="checkgroup" id="serviceChips"></div>
          </div>
        </div>

        <div class="row" style="margin-top:8px">
          <div>
            <label for="details" id="labelDetails"></label>
            <textarea id="details" name="details"></textarea>
          </div>
        </div>

        <div class="notice" id="notice"></div>

        <div class="submitbar">
          <button class="btn" type="submit" id="submitBtn"></button>
          <span class="ok" id="okMsgFR">‚úî Envoy√© ! Nous vous contacterons tr√®s bient√¥t.</span>
          <span class="ok" id="okMsgEN">‚úî Sent! We will contact you shortly.</span>
          <span class="err" id="errMsgFR">‚úñ Erreur. R√©essayez ou appelez-nous.</span>
          <span class="err" id="errMsgEN">‚úñ Error. Please try again or call us.</span>
        </div>
      </form>
    </section>
  </main>

  <footer>
    <div class="brand">Express Portes de Garage</div>
    <div id="footerLine"></div>
  </footer>

  <div class="toast" id="toast"></div>

  <script>
    const LANG = {
      fr: {
        navHome: "Accueil",
        navServices: "Services",
        navLocations: "Zones",
        navAbout: "√Ä propos",
        navContacts: "Contact",
        subtitle: "Installation & r√©paration de portes de garage ‚Äî Montr√©al & <strong>Rive Sud</strong> ‚Äî ressorts, c√¢bles, ouvre-portes, s√©curit√©",
        call: "Appeler maintenant",
        text: "Texter maintenant",
        textHref: "sms:+15149916682?body=Bonjour!%20J'ai%20besoin%20d'un%20service%20pour%20porte%20de%20garage.",
        servicesTitle: "Nos Services",
        services: [
          "R√©paration de portes de garage r√©sidentielles",
          "Remplacement de ressorts de porte de garage",
          "Remplacement et r√©glage de c√¢bles et s√©curit√©",
          "Installation & r√©paration d‚Äôouvre-portes (Chamberlain / LiftMaster)",
          "R√©glage d‚Äô√©quilibrage & s√©curit√©",
          "Portes de garage bloqu√©es ou sorties des rails",
          "T√©l√©commandes & claviers (keypads)",
          "Service m√™me journ√©e ‚Äî Montr√©al & Rive Sud"
        ],
        locationsTitle: "Zones desservies",
        locationsText: "Montr√©al, Rive Sud (Brossard, Longueuil, Saint-Hubert, Boucherville), Ch√¢teauguay et environs. Appelez pour v√©rifier si nous couvrons votre secteur.",
        guidesTitle: "Guides & conseils",
        guidesIntroFR: "Cliquez sur une section pour comprendre quand appeler un technicien et quels sont les risques de faire soi-m√™me.",
        guidesIntroEN: "",
        guideSpringsTitle: "Ressorts de porte de garage",
        guideCablesTitle: "C√¢bles & s√©curit√©",
        guideOpenerTitle: "Ouvre-portes (Chamberlain / LiftMaster)",
        guideOfftrackTitle: "Porte hors des rails",
        aboutTitle: "√Ä propos d‚ÄôExpress Portes de Garage",
        aboutText: "Entreprise familiale bas√©e √† Montr√©al, en activit√© depuis 2021. Nous nous concentrons sur un service honn√™te, des r√©parations s√©curitaires et des solutions adapt√©es aux hivers qu√©b√©cois.",
        contactsTitle: "Contact",
        contactsText: "T√©l√©phone / texto : 514-991-6682 ‚Ä¢ Courriel : Construction2177@yahoo.com. N‚Äôh√©sitez pas √† nous envoyer une photo de votre porte de garage pour un diagnostic rapide.",
        formTitle: "Demander un devis gratuit",
        labelName: "Nom",
        labelPhone: "T√©l√©phone",
        labelEmail: "Courriel",
        labelCity: "Ville / Quartier",
        labelService: "Type de service",
        chips: ["R√©paration r√©sidentielle","Ressorts & c√¢bles","Rails & roulettes","Ouvre-porte","R√©glage & s√©curit√©","Hors des rails","T√©l√©commande / Clavier"],
        labelDetails: "D√©tails",
        notice: "En envoyant, vous acceptez d‚Äô√™tre contact√© par t√©l√©phone, texto ou courriel.",
        submit: "Envoyer",
        footer: "Montr√©al & Rive Sud ‚Äî entreprise familiale depuis 2021 ‚Äî 514-991-6682",
        subject: "Demande de service ‚Äî Portes de garage",
        toast_ok: "‚úî Envoy√©",
        toast_err: "‚úñ Erreur d‚Äôenvoi"
      },
      en: {
        navHome: "Home",
        navServices: "Services",
        navLocations: "Locations",
        navAbout: "About",
        navContacts: "Contacts",
        subtitle: "Garage door installation & repair ‚Äî Montreal & <strong>South Shore</strong> ‚Äî springs, cables, openers, safety",
        call: "Call now",
        text: "Text now",
        textHref: "sms:+15149916682?body=Hello!%20I%20need%20garage%20door%20service.",
        servicesTitle: "Our Services",
        services: [
          "Residential garage door repair",
          "Garage door springs replacement",
          "Cable and safety adjustment",
          "Opener installation & repair (Chamberlain / LiftMaster)",
          "Balancing & safety tune-ups",
          "Stuck / off-track garage doors",
          "Remotes & keypads setup",
          "Same-day service ‚Äî Montreal & South Shore"
        ],
        locationsTitle: "Service areas",
        locationsText: "Montreal, South Shore (Brossard, Longueuil, Saint-Hubert, Boucherville), Ch√¢teauguay and nearby areas. Call to confirm if we cover your location.",
        guidesTitle: "Guides & how-to",
        guidesIntroFR: "",
        guidesIntroEN: "Click a section to understand when you should call a technician and why some repairs are risky to do yourself.",
        guideSpringsTitle: "Garage door springs",
        guideCablesTitle: "Cables & safety",
        guideOpenerTitle: "Openers (Chamberlain / LiftMaster)",
        guideOfftrackTitle: "Off-track door",
        aboutTitle: "About Express Garage Doors",
        aboutText: "Family-owned company based in Montreal, serving customers since 2021. We focus on honest service, safe repairs, and solutions adapted to tough Quebec winters.",
        contactsTitle: "Contacts",
        contactsText: "Phone / text: 514-991-6682 ‚Ä¢ Email: Construction2177@yahoo.com. You can also send us a photo of your garage door for a quick estimate.",
        formTitle: "Request a free estimate",
        labelName: "Name",
        labelPhone: "Phone",
        labelEmail: "Email",
        labelCity: "City / Area",
        labelService: "Service required",
        chips: ["Residential repair","Springs & cables","Tracks & rollers","Opener","Tune-up & safety","Off-track","Remotes / keypads"],
        labelDetails: "Details / additional info",
        notice: "By sending, you agree to be contacted by phone, text or email.",
        submit: "Send",
        footer: "Montreal & South Shore ‚Äî family owned since 2021 ‚Äî 514-991-6682",
        subject: "Garage Door Service Request",
        toast_ok: "‚úî Sent",
        toast_err: "‚úñ Sending error"
      }
    };

    const el = id => document.getElementById(id);
    const ctaText = el('ctaText');
    const serviceChips = el('serviceChips');
    let currentLang = localStorage.getItem('lang') || 'fr';

    function render(lang){
      currentLang = lang;
      localStorage.setItem('lang', lang);

      document.body.classList.toggle('lang-fr', lang === 'fr');
      document.body.classList.toggle('lang-en', lang === 'en');

      document.getElementById('switch-fr').classList.toggle('active', lang==='fr');
      document.getElementById('switch-en').classList.toggle('active', lang==='en');

      // –º–µ–Ω—é
      el('navHome').textContent      = LANG[lang].navHome;
      el('navServices').textContent  = LANG[lang].navServices;
      el('navLocations').textContent = LANG[lang].navLocations;
      el('navAbout').textContent     = LANG[lang].navAbout;
      el('navContacts').textContent  = LANG[lang].navContacts;

      // hero
      el('subtitle').innerHTML = LANG[lang].subtitle;
      el('ctaCall').textContent = LANG[lang].call;
      ctaText.textContent = LANG[lang].text;
      ctaText.href = LANG[lang].textHref;

      // services
      el('servicesTitle').textContent = LANG[lang].servicesTitle;
      el('servicesList').innerHTML = LANG[lang].services.map(s=>`<li>${s}</li>`).join('');

      // locations
      el('locationsTitle').textContent = LANG[lang].locationsTitle;
      el('locationsText').textContent  = LANG[lang].locationsText;

      // guides
      el('guidesTitle').textContent = LANG[lang].guidesTitle;
      if (LANG[lang].guidesIntroFR) el('guidesIntroFR').textContent = LANG[lang].guidesIntroFR;
      if (LANG[lang].guidesIntroEN) el('guidesIntroEN').textContent = LANG[lang].guidesIntroEN;
      el('guideSpringsTitle').textContent  = LANG[lang].guideSpringsTitle;
      el('guideCablesTitle').textContent   = LANG[lang].guideCablesTitle;
      el('guideOpenerTitle').textContent   = LANG[lang].guideOpenerTitle;
      el('guideOfftrackTitle').textContent = LANG[lang].guideOfftrackTitle;

      // about
      el('aboutTitle').textContent = LANG[lang].aboutTitle;
      el('aboutText').textContent  = LANG[lang].aboutText;

      // contacts
      el('contactsTitle').textContent = LANG[lang].contactsTitle;
      el('contactsText').textContent  = LANG[lang].contactsText;

      // form
      el('formTitle').textContent   = LANG[lang].formTitle;
      el('labelName').textContent   = LANG[lang].labelName;
      el('labelPhone').textContent  = LANG[lang].labelPhone;
      el('labelEmail').textContent  = LANG[lang].labelEmail;
      el('labelCity').textContent   = LANG[lang].labelCity;
      el('labelService').textContent= LANG[lang].labelService;
      el('labelDetails').textContent= LANG[lang].labelDetails;
      el('notice').textContent      = LANG[lang].notice;
      el('submitBtn').textContent   = LANG[lang].submit;
      el('footerLine').textContent  = LANG[lang].footer;

      // placeholders
      el('name').placeholder  = (lang==='fr') ? "Votre nom" : "Your name";
      el('phone').placeholder = "+1 514 991 6682";
      el('email').placeholder = (lang==='fr') ? "vous@exemple.com" : "you@example.com";
      el('city').placeholder  = (lang==='fr') ? "Montr√©al, Brossard, Longueuil‚Ä¶" : "Montreal, Brossard, Longueuil‚Ä¶";
      el('details').placeholder = (lang==='fr') ? "D√©crivez la situation‚Ä¶" : "Describe the situation‚Ä¶";

      // chips
      serviceChips.innerHTML = "";
      LANG[lang].chips.forEach(val => {
        const label = document.createElement('label');
        label.className = "chip";
        const input = document.createElement('input');
        input.type = "checkbox";
        input.name = "service";
        input.value = val;
        label.appendChild(input);
        label.appendChild(document.createTextNode(" " + val));
        serviceChips.appendChild(label);
      });
    }

    document.getElementById('switch-fr').addEventListener('click', ()=> render('fr'));
    document.getElementById('switch-en').addEventListener('click', ()=> render('en'));
    render(currentLang);

    // Toast
    const toast = el('toast');
    function showToast(msg){
      toast.textContent = msg;
      toast.style.display = 'inline-block';
      setTimeout(()=> toast.style.display='none', 2000);
    }

    // Web3Forms
    const WEB3FORMS_ACCESS_KEY = "07d8b155-6e6b-4955-b51d-8202d7c27ada";
    const MAILTO_EMAIL = "Construction2177@yahoo.com";

    const form = document.getElementById('serviceForm');
    const okFR = document.getElementById('okMsgFR');
    const okEN = document.getElementById('okMsgEN');
    const errFR = document.getElementById('errMsgFR');
    const errEN = document.getElementById('errMsgEN');

    function valid(){
      const name = el('name').value.trim();
      const phone = el('phone').value.trim();
      if (!name || !phone) return false;
      return true;
    }

    let submitting = false;

    form.addEventListener('submit', async (e)=>{
      e.preventDefault();
      [okFR, okEN, errFR, errEN].forEach(n=> n.style.display='none');

      if (!valid()){
        (currentLang==='fr' ? errFR : errEN).style.display='inline';
        showToast(currentLang==='fr' ? '‚úñ Remplissez les champs obligatoires' : '‚úñ Fill the required fields');
        return;
      }

      if (submitting) return;
      submitting = true;
      const oldText = el('submitBtn').textContent;
      el('submitBtn').textContent = (currentLang==='fr' ? 'Envoi‚Ä¶' : 'Sending‚Ä¶');

      try {
        const fd = new FormData(form);
        fd.append("access_key", WEB3FORMS_ACCESS_KEY);
        fd.append("from_name", "Express Garage Doors Website");
        fd.append("subject", LANG[currentLang].subject);
        fd.append("language", currentLang);
        const clientEmail = el('email').value.trim();
        if (clientEmail) fd.append("replyto", clientEmail);

        const resp = await fetch("https://api.web3forms.com/submit", { method:"POST", body: fd });
        const json = await resp.json();
        if (json.success){
          (currentLang==='fr'?okFR:okEN).style.display='inline';
          showToast(LANG[currentLang].toast_ok);
          form.reset();
        } else {
          throw new Error('web3forms failed');
        }
      } catch (err){
        const data = {}
        new FormData(form).forEach((v,k)=>{
          if (data[k]){
            if (!Array.isArray(data[k])) data[k]=[data[k]];
            data[k].push(v);
          } else data[k]=v;
        });
        if (Array.isArray(data.service)) data.service = data.service.join(', ');
        const lines = [];
        for (const k in data) lines.push(`${k}: ${data[k]}`);
        const mailto = `mailto:${encodeURIComponent(MAILTO_EMAIL)}?subject=${encodeURIComponent(LANG[currentLang].subject)}&body=${encodeURIComponent(lines.join('\n'))}`;
        window.location.href = mailto;
        (currentLang==='fr'?okFR:okEN).style.display='inline';
        showToast(LANG[currentLang].toast_ok);
      } finally {
        submitting = false;
        el('submitBtn').textContent = oldText;
      }
    });
  </script>
</body>
</html>